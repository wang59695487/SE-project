# UML复习

- 回忆卷在https://www.cc98.org/topic/5029365 这个帖子里有人回忆了，考前一定要看一遍！！！！！

### 用例图

- 非常重要，处于核心位置，用来表现一个系统或者系统的一部分的交互
  - 只表现出交互而不考虑如何实现
  - 是系统开发的起点，引导类图和交互图的开发
  - 可以用于生成测试用例和用户文档
- 图的组成
  - actor不一定要是人
  - 用例是最重要的部分，用椭圆来标识
  - 场景是用例的特殊情况，Scenaro是每个用例的用例实例，它有一系列的场景，其中一个是主要场景，其他是次要场景。与主场景相比，次场景用于描述异常路径或可选路径。
  - 用例需要独立、可观察、由actor主动进行，必须是动词形式
- 几种管理
  - include：表示有如下几个子功能组成
  - extend：表示扩展功能
  - generalization泛化：子概念指向父概念

### 时序图

- 交互图的一种，用来表现对象之间按照时间顺序的交流情况
- 画法：竖的几排，箭头传递信息
  - 信息分为同步的和异步的
  - 超时信息，加个圈
  - 吼叫信息，箭头折返

### 协作图

- 基本可以和时序图互相转化，区别就在于协作图画的比较随意，可以横着也可以竖着，也可以画成环形

### 类图

- 类图通过一系列的类来表现一个系统中各个类的继承、组合关系，是一种面向对象的设计方法

- 一个类包含
  - name和attribute以及operation
  - 访问域的设定：public、protected、private和package
- 类图的几种标识
  - 依赖于 虚线箭头
  - Association 有合作关系，普通线，存在几对几的关系，比如公司和人，三角形和边
    - Aggregation 空心菱形线，聚合关系，表示“has a”的合作关系
    - Composition 黑心菱形线，表示组合关系
  - Inheritance 实线箭头，泛化关系，子类指向父类
- 抽象类和接口
  - 有icon，label和decoration多种画法，用一个圈表示接口
- CRC卡：类名+责任+协作关系

### 状态图

- 描述系统的状态变化，系统具有一系列的状态，状态之间可以通过一系列的action进行切换
  - 要有一个初始状态，用黑点来表示
  - 可以有终止状态，用黑点+一个圈表示
- 组合状态：包含多种子状态
- 转换是两种状态之间的关系，表示处于第一种状态的对象在发生指定的事件并满足指定的条件时将执行某些操作并进入第二种状态
  - 外部转换：最常见，用箭头来表示
  - 内部转换：没有改变状态
  - completion转换：自我转换？
  - 组合转换
- 事件：
  - 可以分为内部和外部
    - 外部事件在系统和actor之间进行
    - 内部事件在系统内部发生
  - 事件可以分为：
    - 信号事件：信号，触发器
    - 调用事件：调用一些操作
    - 改变事件：引起condition的变化
    - 时间事件：使用at、after或者when来描述时间条件
- action是一系列**可以产生返回值的计算** 

### 活动图

- 由一系列节点和边组成
  - 初始和结束节点：实心黑点和黑点+圆圈
  - 行动节点：一系列action
  - 边对应控制流，可以有if else的分支也可以有环
  - 并发的fork：同时发生两个行动，用一条黑线加两个箭头作为开头，最后可以merge起来
- 泳道图：
  - 分为好几个泳道，每个泳道对应一个actor需要进行的action，互相切换
- 活动图进场被用在一个系统的上下文或者一个子系统、一项操作、一个类中

### 组件图

- 表达系统的模块组成，artifact是组成系统的物理实体，component是组成系统逻辑组件的的物理抽象，class是逻辑抽象，components由artifact组成
- 接口：满足一个服务的一系列操作，会被class或者组件需要
  - 半个环表示需要接口，一个圈表示提供接口
- 端口是一个进入封装好的组件的显式的窗口
- 连接器：通过两个端口来连接一系列组件
  - 直接连接器：一条线连接两个端口
  - delegation连接器
  - 接口连接器：半个环+一个圆

### 部署图

- 将组件的物理部署情况进行建模，只有系统可以有部署图
  - 主要的组成部分有**节点和连接**

### 设计模式

- 三个原则：
  - 面向接口编程而不面向对象编程
  - 偏向于对象组合而不是继承
- 创造类模式
  - 单例模式：
    - 只能通过一个static类型的函数来访问一个实例，将构造函数私有化
    - **类中 定义 一个 静态私有变量和**Static公有方法
  - 抽象工厂模式：
    - 抽象工厂模式（Abstract Factory Pattern）是围绕一个超级工厂创建其他工厂。该超级工厂又称为其他工厂的工厂。这种类型的设计模式属于创建型模式，它提供了一种创建对象的最佳方式。
    - 在抽象工厂模式中，接口是负责创建一个相关对象的工厂，不需要显式指定它们的类。每个生成的工厂都能按照工厂模式提供

